<section class="course-manipulation-container">
    <form
        class="course-manipulation-form"
        [formGroup]="courseForm"
        autocomplete="off">
        <ul class="form-sections">
            <li class="course-title-container"
                [class.error]="title.invalid && (title.dirty || title.touched)">
                <label for="course-title">title</label>
                <input
                    type="text"
                    id="course-title"
                    class="course-title"
                    placeholder="Enter a course name"
                    formControlName ="title">
                <span class="error-msg">
                    Please put any title shorter than
                    {{ maxTitleLength }} symbols.
                </span>
            </li>
            <li class="course-description-container"
                [class.error]="description.invalid && (description.dirty || description.touched)">
                <app-input-text
                    formControlName="description">
                </app-input-text>
                <span class="error-msg">
                    Please put any description shorter than
                    {{ maxDescriptionLength }} symbols.
                </span>
            </li>
            <li class="course-meta-info-container">
                <div class="date-container"
                    [class.error]="date.invalid && (date.dirty || date.touched)">
                    <app-input-date
                        formControlName="date">
                    </app-input-date>
                    <span class="error-msg">
                        Please fill the date in the correct format - dd/mm/yyyy.
                    </span>
                </div>
                <div class="duration-container"
                    [class.error]="duration.invalid && (duration.dirty || duration.touched)">
                    <app-input-duration
                        formControlName="duration"
                    ></app-input-duration>
                    <span class="error-msg">
                        Please set duration between 
                        {{ minDuration }} and {{ maxDuration }} minutes.
                    </span>
                </div>
            </li>
            <li class="course-author-container"
                [class.error]="authors.invalid && (authors.dirty || authors.touched)">
                <app-input-author
                    [allAuthors]="(authors$ | async).authors"
                    formControlName="authors"
                ></app-input-author>
                <span class="error-msg">
                    Please add at least one author.
                </span>
            </li>
            <li class="course-upload-area-container">
                <label for="course-upload-file-id">upload video file</label>
                <input
                    type="file"
                    name="files[]"
                    id="course-upload-file-id"
                    class="course-upload-area"
                    #upload
                    hidden>
                <div
                    class="course-visible-upload-area"
                    (click)="upload.click()">
                    <fa-icon class="upload-icon" icon="cloud-upload-alt"></fa-icon>
                    <span class="upload-message">
                        dran and drop files here (doesn't work at the moment)
                    </span>
                </div>
                <span class="options-separator">or</span>
                <button
                    type="button"
                    class="course-upload-file-btn"
                    (click)="upload.click()">
                    chose files
                </button>
            </li>
        </ul>
    </form>
    <footer class="course-manipulation-footer">
        <span class="mandatory-fields-note">
            * Mandatory fields
        </span>
        <div class="buttons-block">
            <button class="cancel"
                [routerLink]="'/courses'"
                role="button">
                cancel
            </button>
            <button
                class="save"
                type="submit"
                role="button"
                (click)="onSave()"
                [disabled]="courseForm.invalid">
                save
            </button>
        </div>
    </footer>
</section>
